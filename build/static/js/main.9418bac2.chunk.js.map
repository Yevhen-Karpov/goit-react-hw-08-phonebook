{"version":3,"sources":["components/HeaderMenu/AppBar/AppBar.module.css","redux/auth/auth-slice.js","redux/store.js","redux/auth/auth-selectors.js","components/HeaderMenu/Navigation/Navigation.jsx","components/HeaderMenu/UserMenu/UserMenu.jsx","components/HeaderMenu/AuthNav/AuthNav.jsx","components/HeaderMenu/AppBar/AppBar.jsx","components/HeaderMenu/PrivateRoute.js","components/HeaderMenu/PublicRouter.js","components/App/App.jsx","index.js","redux/auth/auth-operations.js","components/HeaderMenu/Navigation/Navigation.module.css","services/contactsFetch-api.js","redux/contacts/contacts-operations.js","components/HeaderMenu/UserMenu/UserMenu.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducers.js","components/App/App.module.css"],"names":["module","exports","authSlice","createSlice","name","initialState","user","email","token","isLoggedIn","extraReducers","authOperations","register","fulfilled","state","action","payload","logIn","logOut","_action","refreshCurrentUser","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whiteList","store","configureStore","reducer","auth","persistReducer","authReduser","users","contactsReducers","devTools","process","persistor","persistStore","authSelectors","getIsLoggedIn","getUserName","Navigation","useSelector","exact","to","className","s","link","activeClassName","activeLink","useStyles","makeStyles","theme","root","margin","spacing","background","boxShadow","color","UserMenu","styles","dispatch","useDispatch","container","Button","variant","type","onClick","AuthNav","display","textDecoration","padding","fontWeight","style","activeStyle","Appbar","AppBar","position","fullWidth","header","PrivateRoute","children","redirectTo","routeProps","PublicRouter","restricted","shouldRedirect","HomeView","lazy","RegisterView","LoginView","ContactsView","App","useEffect","fallback","path","ReactDOM","render","StrictMode","loading","document","getElementById","axios","defaults","baseURL","headers","common","Authorization","createAsyncThunk","credentials","thunkAPI","a","post","data","rejectWithValue","_","getState","persistedToken","get","fetchContacts","console","log","fetchAddContact","fetchDeleteContact","value","delete","response","getALLContacts","contactsApi","message","addContact","deleteContact","id","contactsOperations","actions","changeFilter","createAction","deleteContactRequest","deleteContactSuccess","deleteContactError","contacts","createReducer","_state","filter","combineReducers"],"mappings":"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","file":"static/js/main.9418bac2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__3DxuR\"};","import { createSlice } from '@reduxjs/toolkit';\r\nimport authOperations from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: {\r\n    name: null,\r\n    email: null,\r\n  },\r\n  token: null,\r\n  isLoggedIn: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n\r\n    [authOperations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n\r\n    [authOperations.logOut.fulfilled](state, _action) {\r\n      state.user = {\r\n        name: null,\r\n        email: null,\r\n      };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n\r\n    [authOperations.refreshCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport logger from 'redux-logger';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactsReducers from './contacts/contacts-reducers';\r\nimport authReduser from '../redux/auth/auth-slice';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whiteList: ['token'],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReduser),\r\n    users: contactsReducers,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\nconst getUserName = state => state.auth.user.name;\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUserName,\r\n};\r\n\r\nexport default authSelectors;\r\n","import { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from 'redux/auth';\r\nimport s from './Navigation.module.css';\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <nav>\r\n      <NavLink exact to=\"/\" className={s.link} activeClassName={s.activeLink}>\r\n        Home\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          className={s.link}\r\n          activeClassName={s.activeLink}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport authSelectors from '../../../redux/auth/auth-selectors';\r\nimport authOperations from '../../../redux/auth/auth-operations';\r\nimport Button from '@mui/material/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport s from './UserMenu.module.css';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    margin: theme.spacing(1, 0, 1),\r\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n    color: 'white',\r\n  },\r\n}));\r\n\r\nexport default function UserMenu() {\r\n  const styles = useStyles();\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUserName);\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <span className={s.name}>Welcome, {name}</span>\r\n      <Button\r\n        variant=\"outlined\"\r\n        color=\"error\"\r\n        type=\"button\"\r\n        onClick={() => dispatch(authOperations.logOut())}\r\n        className={styles.root}\r\n      >\r\n        Log Out\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport default function AuthNav() {\r\n  const styles = {\r\n    link: {\r\n      display: 'inline-block',\r\n      textDecoration: 'none',\r\n      padding: 12,\r\n      fontWeight: 700,\r\n      color: '#dde9ee',\r\n    },\r\n    activeLink: {\r\n      color: '#D5561F',\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Register\r\n      </NavLink>\r\n\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport authSelectors from '../../../redux/auth/auth-selectors';\r\nimport s from './AppBar.module.css';\r\n\r\nexport default function Appbar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <AppBar position=\"static\" fullWidth>\r\n      <header className={s.header}>\r\n        <Navigation />\r\n        {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n      </header>\r\n    </AppBar>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from 'redux/auth';\r\n\r\nexport default function PrivateRoute({\r\n  children,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from 'redux/auth';\r\n\r\nexport default function PublicRouter({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import { useEffect, Suspense, lazy } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Switch } from 'react-router-dom';\r\nimport Appbar from '../HeaderMenu/AppBar/AppBar';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\nimport s from './App.module.css';\r\nimport PrivateRoute from 'components/HeaderMenu/PrivateRoute';\r\nimport PublicRouter from 'components/HeaderMenu/PublicRouter';\r\n\r\nconst HomeView = lazy(() => import('views/HomeView'));\r\nconst RegisterView = lazy(() => import('views/RegisterView'));\r\nconst LoginView = lazy(() => import('views/LoginView'));\r\nconst ContactsView = lazy(() => import('views/ContactsView'));\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(authOperations.refreshCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className={s.header}>\r\n      <Appbar />\r\n      <Switch>\r\n        <Suspense fallback={<p>Loading...</p>}>\r\n          <PublicRouter exact path=\"/\">\r\n            <HomeView />\r\n          </PublicRouter>\r\n\r\n          <PublicRouter exact path=\"/register\" restricted>\r\n            <RegisterView />\r\n          </PublicRouter>\r\n\r\n          <PublicRouter exact path=\"/login\" redirectTo=\"/contacts\" restricted>\r\n            <LoginView />\r\n          </PublicRouter>\r\n\r\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\r\n            <ContactsView />\r\n          </PrivateRoute>\r\n        </Suspense>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { store, persistor } from './redux/store';\r\nimport App from './components/App/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = createAsyncThunk(\r\n  'auth/register',\r\n  async (credentials, thunkAPI) => {\r\n    try {\r\n      const { data } = await axios.post('/users/signup', credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n  },\r\n);\r\n\r\nconst logIn = createAsyncThunk('auth/login', async (credentials, thunkAPI) => {\r\n  try {\r\n    const { data } = await axios.post('/users/login', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue();\r\n  }\r\n});\r\n\r\nconst logOut = createAsyncThunk(\r\n  'auth/logout',\r\n  async (credentials, thunkAPI) => {\r\n    try {\r\n      await axios.post('/users/logout', credentials);\r\n      token.unset();\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n  },\r\n);\r\n\r\nconst refreshCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n    try {\r\n      token.set(persistedToken);\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n  },\r\n);\r\n\r\nconst authOperations = { register, logIn, logOut, refreshCurrentUser };\r\nexport default authOperations;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3_GK0\",\"activeLink\":\"Navigation_activeLink__3Bz1_ Navigation_link__3_GK0\"};","import axios from 'axios';\r\n\r\nexport async function fetchContacts() {\r\n  const { data } = await axios.get('/contacts');\r\n  console.log(data);\r\n  return data;\r\n}\r\n\r\nexport async function fetchAddContact(payload) {\r\n  const { data } = await axios.post('/contacts', payload);\r\n  console.log(data);\r\n  return data;\r\n}\r\n\r\nexport async function fetchDeleteContact(value) {\r\n  const response = await axios.delete(`/contacts/${value}`);\r\n  console.log(response);\r\n  return response.data;\r\n}\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport * as contactsApi from '../../services/contactsFetch-api';\r\n\r\nconst getALLContacts = createAsyncThunk(\r\n  'contacts/getALLContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      return await contactsApi.fetchContacts();\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst addContact = createAsyncThunk(\r\n  'contacts/addContacts',\r\n  async (payload, { rejectWithValue }) => {\r\n    try {\r\n      return await contactsApi.fetchAddContact(payload);\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst deleteContact = createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (id, { rejectWithValue, dispatch }) => {\r\n    try {\r\n      await contactsApi.fetchDeleteContact(id);\r\n      dispatch(deleteContact.fulfilled(id));\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nconst contactsOperations = { getALLContacts, addContact, deleteContact };\r\n\r\nexport default contactsOperations;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__2jcAm\",\"name\":\"UserMenu_name__2Qatr\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst changeFilter = createAction('contacts/changeFilter');\r\n\r\nexport const deleteContactRequest = createAction(\r\n  'contacts/deleteContactRequest',\r\n);\r\n\r\nexport const deleteContactSuccess = createAction(\r\n  'contacts/deleteContactSuccess',\r\n);\r\n\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nconst actions = {\r\n  changeFilter,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n};\r\n\r\nexport default actions;\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport actions from './contacts-actions';\r\nimport contactsOperations from './contacts-operations';\r\n\r\nconst { getALLContacts, addContact, deleteContact } = contactsOperations;\r\n\r\nconst contacts = createReducer([], {\r\n  [getALLContacts.fulfilled]: (_state, action) => action.payload,\r\n  [addContact.fulfilled]: (state, action) => [...state, action.payload],\r\n  [deleteContact.fulfilled]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [actions.changeFilter]: (_state, action) => action.payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  contacts,\r\n  filter,\r\n});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__22SWw\",\"header\":\"App_header__19sGx\"};"],"sourceRoot":""}